## 💻架设你的 Minecraft 服务器

恭喜你！在征服了生存和 PvP 之后，现在是时候迈向 Minecraft 的终极目标：**创建你自己的世界，并邀请朋友加入！**

神圣羊驼将带你一步步完成**架设 Java 版 Minecraft 服务器**的过程。

------



### ⚙️ 步骤一：准备工作与下载



在开始之前，请确保你的电脑符合以下要求：

1. **安装 Java：** 你的电脑必须安装**最新版本的 Java**，这是运行 Minecraft 服务器所必需的底层环境。
2. **服务器文件：** 前往 Minecraft 官方网站或你偏好的服务端官网下载对应你想要版本的 **`server.jar`** 文件（例如，官方原版服务器或 Paper/Spigot 等优化服务端）。



### 📂 步骤二：创建服务器运行环境



1. **新建文件夹：** 在你的电脑上（一个容易找到的位置）创建一个新的文件夹，命名为 **"MyMinecraftServer"** 或你喜欢的名字。
2. **放入文件：** 将你下载的 **`server.jar`** 文件放入这个新建的文件夹中。



### 🚀 步骤三：编写启动脚本 (Start Script)



你需要创建一个批处理文件（`.bat` 文件）来告诉电脑如何用 Java 运行这个服务器文件。

1. **创建文本文档：** 在该文件夹内，新建一个**文本文档（.txt 文件）**。

2. **粘贴代码：** 在文档内粘贴以下启动代码：

   ```bash
   java -Xmx2048M -Xms2048M -jar server.jar nogui
   pause
   ```

   > - **代码说明：**
   > - `java`: 调用 Java 运行环境。
   > - `-Xmx2048M -Xms2048M`: **分配内存**。这里设置的是 2048MB（即 2GB）。如果你的电脑内存充足，可以分配更多（例如 4GB），但请根据你的电脑实际内存调整。
   > - `server.jar`: 你下载的服务器文件的名称。
   > - `nogui`: 以命令行模式运行，节省资源。

3. **保存为 .bat 文件：**

   - 点击 **“文件”** -> **“另存为”**。
   - 将 **“保存类型”** 更改为 **“所有文件 (*.*)”**。
   - 文件名改为 **`start.bat`**。



### 🚫 步骤四：接受 EULA 协议



首次双击运行 `start.bat` 文件，服务器会尝试启动，但会因为没有同意许可协议而失败。它会在文件夹中生成一个 `eula.txt` 文件。

1. **打开 `eula.txt`：** 用记事本打开 `eula.txt` 文件。
2. **修改协议：** 将文件中的 `eula=false` 改为 **`eula=true`**。
3. **保存文件。**



### 🌐 步骤五：配置与最终启动



现在，重新双击运行 **`start.bat`** 文件。服务器将正式开始运行，并生成世界文件。



#### 1. 配置服务器参数 (server.properties)



当服务器运行时，你可以修改 `server.properties` 文件来调整设置：

- `gamemode=survival`: 设置默认游戏模式。
- `difficulty=easy`: 设置难度。
- `max-players=20`: 设置最大玩家数量。
- `online-mode=true`: **重要！** 确保设置为 `true`，以保证只有正版用户可以加入。



#### 2. 邀请朋友加入



- **同一台电脑加入：** 在 Minecraft 游戏中，选择**“多人游戏”** -> **“直接连接”**，输入 **`localhost`** 或 **`127.0.0.1`** 即可加入。
- **外部朋友加入（端口映射）：** **这是最困难的一步！** 你的朋友需要输入你的**公网 IP 地址**，并且你需要：
  - **在路由器设置中进行端口映射（Port Forwarding）**，将默认端口 `25565` 开放给外部网络。

> **⚠️ 网络安全警告：** 开放端口存在安全风险，请确保你的系统防火墙已开启，并且只向信任的朋友分享你的公网 IP 地址！